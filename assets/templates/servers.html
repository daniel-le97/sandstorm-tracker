{{define "title"}}Servers - Sandstorm Tracker{{end}}

{{define "content"}}
<div class="card">
    <h2>Servers</h2>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Path</th>
                <th>Created</th>
            </tr>
        </thead>
        <tbody>
            {{range .Servers}}
            <tr style="cursor: pointer;" hx-get="/servers/{{.Id}}/matches" hx-target="#matchesContainer"
                hx-swap="innerHTML">
                <td><strong>{{.Get "external_id"}}</strong></td>
                <td>{{.GetString "path"}}</td>
                <td>{{.GetDateTime "created"}}</td>
            </tr>
            {{else}}
                <tr>
                    <td colspan="3" style="text-align: center; color: #999;">No servers found</td>
                </tr>
                {{end}}
        </tbody>
    </table>
</div>

<!-- Matches Container -->
<div id="matchesContainer" style="margin-top: 2rem;">
    <!-- Matches will be loaded here when a server is clicked -->
</div>
{{end}}